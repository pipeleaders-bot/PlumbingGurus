<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Delivery Booking | Plumbing Gurus – San Antonio</title>

<meta name="description" content="Book professional delivery and material transport in San Antonio with instant price estimates.">

<meta name="theme-color" content="#0d4b73">

<link rel="icon" href="images/file_00000000dc5c71fda7bf16dec7db34b7.png">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>

:root{
  --blue:#0d4b73;
  --blue2:#1D6FA3;
  --orange:#ff8a00;
  --dark:#050b14;
}

body{
  margin:0;
  font-family:'Inter',sans-serif;
  background:#050b14;
  color:#fff;
}

header{
  position:fixed;
  top:0;
  width:100%;
  padding:18px 50px;
  background:rgba(5,11,20,.85);
  backdrop-filter:blur(14px);
  display:flex;
  justify-content:space-between;
  align-items:center;
  z-index:999;
}

.logo{height:55px;}

nav a{
  margin:0 18px;
  color:#fff;
  text-decoration:none;
  opacity:.85;
}

nav a:hover{opacity:1;}

.book-btn{
  background:linear-gradient(90deg,#ff8a00,#ffb347);
  color:#000;
  padding:10px 22px;
  border-radius:30px;
  text-decoration:none;
  font-weight:700;
}

.section{
  max-width:900px;
  margin:140px auto;
  padding:0 30px;
}

h1{
  text-align:center;
  font-size:46px;
}

p.sub{
  text-align:center;
  opacity:.9;
  margin-bottom:50px;
  font-size:18px;
}

.form-box{
  background:rgba(255,255,255,.05);
  border-radius:25px;
  padding:40px;
  border:1px solid rgba(255,255,255,.15);
}

input, select{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  border-radius:10px;
  border:none;
  font-size:15px;
}

label{
  font-size:14px;
  opacity:.9;
}

button{
  width:100%;
  padding:15px;
  background:linear-gradient(90deg,#ff8a00,#ffb347);
  border:none;
  border-radius:40px;
  font-weight:700;
  cursor:pointer;
  margin-top:10px;
}

button:hover{opacity:.9;}

.result{
  margin-top:25px;
  padding:20px;
  background:rgba(0,0,0,.4);
  border-radius:15px;
  display:none;
}

.result span{
  color:#ffb347;
  font-weight:700;
}

footer{
  background:#02060c;
  padding:40px;
  text-align:center;
  color:#aaa;
  margin-top:80px;
}

@media(max-width:700px){
  h1{font-size:34px;}
}

</style>
</head>

<body>

<header>

<img src="images/file_00000000dc5c71fda7bf16dec7db34b7.png" class="logo">

<nav>
<a href="index.html">Home</a>
<a href="services.html">Services</a>
<a href="delivery.html">Delivery</a>
<a href="compliance.html">Compliance</a>
</nav>

<a href="booking.html" class="book-btn">Book Now</a>

</header>

<section class="section">

<h1>Delivery Booking</h1>

<p class="sub">Get an instant estimate and schedule your delivery.</p>

<div class="form-box">

<form id="deliveryForm"
action="https://formsubmit.co/pipeleaders@gmail.com"
method="POST">

<input type="hidden" name="_captcha" value="false">

<!-- Hidden outputs -->
<input type="hidden" name="distance">
<input type="hidden" name="estimate">

<label>Pickup Address</label>
<input type="text" id="pickup" name="pickup" required>

<label>Drop-Off Address</label>
<input type="text" id="dropoff" name="dropoff" required>

<label>Pickup Time</label>
<input type="time" id="time" name="time" required>

<label>Load Size</label>
<select id="size" name="size">
  <option value="small">Small (Boxes)</option>
  <option value="medium">Medium (Furniture)</option>
  <option value="large">Large (Appliances/Bulk)</option>
</select>

<label>
<input type="checkbox" id="sameday"> Same-Day Service (+$25)
</label>

<button type="button" onclick="calculate()">Calculate Estimate</button>

<div class="result" id="resultBox"></div>

<button type="submit" id="submitBtn" style="display:none;">
Confirm & Book Delivery
</button>

</form>

</div>

</section>

<footer>
<p>© 2026 Plumbing Gurus LLC</p>
</footer>

<script>

// PRICING
const BASE = 45;
const PER_MILE = 2.75;
const HANDLING = 15;
const RUSH = 20;
const SAMEDAY = 25;

const SIZE = {
  small:0,
  medium:25,
  large:50
};

// Geocode
async function geo(address){
  const url = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}`;
  const res = await fetch(url);
  const data = await res.json();
  return data[0];
}

// Distance
function miles(lat1, lon1, lat2, lon2){
  const R = 3958.8;
  const dLat = (lat2-lat1)*Math.PI/180;
  const dLon = (lon2-lon1)*Math.PI/180;
  const a =
    Math.sin(dLat/2)**2 +
    Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*
    Math.sin(dLon/2)**2;
  return R*2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));
}

// Calculate
async function calculate(){

  const p = document.getElementById('pickup').value;
  const d = document.getElementById('dropoff').value;
  const t = document.getElementById('time').value;
  const s = document.getElementById('size').value;
  const sd = document.getElementById('sameday').checked;

  if(!p || !d || !t){
    alert("Please fill all fields");
    return;
  }

  const pGeo = await geo(p);
  const dGeo = await geo(d);

  if(!pGeo || !dGeo){
    alert("Address not found");
    return;
  }

  const dist = miles(
    pGeo.lat,pGeo.lon,
    dGeo.lat,dGeo.lon
  );

  let total = BASE + (dist*PER_MILE) + HANDLING + SIZE[s];

  // Rush Hour
  const hour = parseInt(t.split(':')[0]);

  if((hour>=7 && hour<=9) || (hour>=16 && hour<=19)){
    total += RUSH;
  }

  if(sd) total += SAMEDAY;

  total = total.toFixed(2);

  document.querySelector('[name=distance]').value = dist.toFixed(2)+" miles";
  document.querySelector('[name=estimate]').value = "$"+total;

  const box = document.getElementById('resultBox');

  box.style.display="block";
  box.innerHTML = `
    Distance: <span>${dist.toFixed(2)} mi</span><br>
    Estimated Total: <span>$${total}</span>
  `;

  document.getElementById('submitBtn').style.display="block";
}

</script>

</body>
</html>
