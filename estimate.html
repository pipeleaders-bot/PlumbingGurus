<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plumbing Gurus | Get Estimate</title>
<link rel="icon" type="image/png" href="images/LOGO.png">
<link rel="stylesheet" href="css/style.css">
<style>
/* Additional styles for estimate page */
.estimate-section { max-width: 800px; margin: 50px auto; padding: 30px; background: #fff; border-radius: 12px; box-shadow: 0 4px 18px rgba(0,0,0,0.08); }
.estimate-section h2 { color: #00539C; margin-bottom: 25px; text-align:center; }
.estimate-form { display: grid; gap: 16px; }
.estimate-form input, .estimate-form textarea, .estimate-form select { padding: 14px; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem; width: 100%; }
.estimate-form button { background: #0077cc; color: #fff; padding: 14px; border-radius: 8px; font-weight: 700; border: none; cursor: pointer; transition: 0.3s; }
.estimate-form button:hover { background: #005fa3; transform: scale(1.03); }
.ai-estimate { margin-top: 25px; background: #f1f5f9; padding: 20px; border-radius: 10px; border-left: 4px solid #FF6600; font-size: 1.1rem; line-height: 1.5; }
.disclaimer { font-size: 0.9rem; color: #555; margin-top: 15px; }
</style>
</head>
<body>

<header>
  <div class="header-left">
    <img src="images/LOGO.png" alt="Plumbing Gurus Logo" class="logo">
    <nav>
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="estimate.html">Get Estimate</a>
      <a href="booking.html">Book</a>
      <a href="education.html">Education</a>
    </nav>
    <span class="header-phone">Call Now: <span>(210)</span> <span style="color:#FF6600;">906-8524</span></span>
  </div>
</header>

<section class="estimate-section">
  <h2>Get Your Plumbing Estimate</h2>
  <p>Fill out your information below. Our AI-powered estimator will provide a preliminary cost range based on the details you provide.</p>

  <form id="estimateForm" class="estimate-form" action="https://formsubmit.co/your-email-replace-this" method="POST">
    <!-- Customer Info -->
    <input type="text" name="name" placeholder="Your Name" required>
    <input type="tel" name="phone" placeholder="Phone Number" required>
    <input type="email" name="email" placeholder="Email Address" required>

    <!-- Service Info -->
    <select name="service" required>
      <option value="">Select Service</option>
      <option value="Leak Repair">Leak Repair</option>
      <option value="Toilet Service">Toilet Service</option>
      <option value="Clog Removal">Clog Removal</option>
      <option value="Water Heater">Water Heater</option>
      <option value="Faucet & Fixture">Faucet & Fixture</option>
      <option value="Shower & Bath">Shower & Bath</option>
    </select>

    <textarea name="details" placeholder="Describe the problem or service needed" required></textarea>

    <button type="submit">Get Estimate</button>
    <input type="hidden" name="_captcha" value="false">
  </form>

  <div class="ai-estimate" id="aiEstimate">
    <!-- AI Estimate appears here -->
  </div>

  <p class="disclaimer">
    <strong>Disclaimer:</strong> This estimate is preliminary and for informational purposes only. Plumbing Gurus provides dispatch and coordination services, and performs minor plumbing work where legally permitted. Final costs may vary depending on the licensed plumber and job complexity.
  </p>
</section>

<footer>
  <p>Â© 2025 Plumbing Gurus. Dispatch & referral services only.</p>
  <p><a href="terms.html">Terms & Conditions</a> | <a href="privacy.html">Privacy Policy</a></p>
</footer>

<script>
const form = document.getElementById('estimateForm');
const aiDiv = document.getElementById('aiEstimate');

form.addEventListener('submit', async function(e){
  e.preventDefault();

  const name = form.name.value;
  const phone = form.phone.value;
  const email = form.email.value;
  const service = form.service.value;
  const details = form.details.value;

  aiDiv.textContent = "Generating AI estimate...";

  try {
    const response = await fetch("https://your-backend-domain.com/estimate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ name, phone, email, service, details })
    });
    const data = await response.json();
    aiDiv.textContent = data.estimate || "No estimate returned.";
  } catch(err) {
    aiDiv.textContent = "Error generating estimate. Please try again later.";
    console.error(err);
  }

  // Submit form to FormSubmit in parallel
  form.submit();
});
</script>

</body>
</html>    case 'Water Heater': baseCost=250; break;
    case 'Faucet & Fixture': baseCost=80; break;
    case 'Shower & Bath': baseCost=180; break;
  }

  const estimate = baseCost * severity;
  document.getElementById('ai-response').innerHTML = `<h3>Preliminary AI Estimate</h3><p>Dear <strong>${name}</strong>, based on your request for <strong>${service}</strong> and issue details, the estimated cost is approximately <strong>$${estimate}</strong>. Final pricing will be confirmed after on-site evaluation.</p>`;
  
  // Submit form to FormSubmit
  this.submit();
});
</script>

</body>
</html>    <!-- Step 4: Additional Details -->
    <div class="step" data-step="4">
      <h3>Provide additional details (optional)</h3>
      <textarea name="details" placeholder="Any details to help us estimate"></textarea>
      <button type="button" class="prev">Back</button>
      <button type="button" class="next">Next</button>
    </div>

    <!-- Step 5: Review & AI-style estimate -->
    <div class="step" data-step="5">
      <h3>Preliminary Estimate</h3>
      <div class="summary" id="summary"></div>
      <div class="disclaimer">
        <strong>Disclaimer:</strong> Plumbing Gurus coordinates licensed plumbing services. Any minor plumbing performed by us is within legal limits. This estimate is preliminary and may vary based on actual property conditions and professional assessment.
      </div>
      <button type="button" class="prev">Back</button>
      <button type="submit" class="submit">Submit Estimate Request</button>
    </div>

  </form>
</section>

<script>
// Step navigation
const form = document.getElementById('estimateForm');
const steps = form.querySelectorAll('.step');
let currentStep = 0;

function showStep(index) {
  steps.forEach((s, i) => s.classList.toggle('active', i === index));
  currentStep = index;

  if (steps[index].dataset.step == "5") {
    const summary = document.getElementById('summary');
    const service = form.querySelector('select[name="service"]').value;
    const severity = form.querySelector('select[name="severity"]').value;
    const difficulty = form.querySelector('select[name="location_difficulty"]').value;
    const details = form.querySelector('textarea[name="details"]').value;

    // Base pricing ranges by service
    let base;
    switch(service){
      case "Leak Repair": base=[150,850]; break;
      case "Toilet Service": base=[100,500]; break;
      case "Clog Removal": base=[150,600]; break;
      case "Water Heater": base=[150,900]; break;
      case "Faucet & Fixture": base=[100,400]; break;
      case "Shower & Bath": base=[150,900]; break;
      default: base=[100,500];
    }

    // Adjust by severity
    let multiplier=1;
    if(severity=="Minor") multiplier=1;
    else if(severity=="Moderate") multiplier=1.25;
    else if(severity=="Major") multiplier=1.5;

    // Adjust by location difficulty
    if(difficulty=="Easy") multiplier *=1;
    else if(difficulty=="Medium") multiplier *=1.2;
    else if(difficulty=="Hard") multiplier *=1.4;

    let min=Math.round(base[0]*multiplier);
    let max=Math.round(base[1]*multiplier);

    summary.innerHTML=`<p><strong>Service:</strong> ${service}</p>
                       <p><strong>Severity:</strong> ${severity}</p>
                       <p><strong>Location Difficulty:</strong> ${difficulty}</p>
                       <p><strong>Additional Details:</strong> ${details}</p>
                       <p><strong>Estimated Cost Range:</strong> $${min} - $${max}</p>`;
  }
}

// Next / Prev buttons
form.querySelectorAll('.next').forEach(btn => btn.addEventListener('click', ()=>{
  const inputs = steps[currentStep].querySelectorAll('input, select, textarea');
  let valid=true;
  inputs.forEach(input=>{ if(!input.checkValidity()) valid=false; });
  if(valid) showStep(currentStep+1);
  else inputs[0].reportValidity();
}));

form.querySelectorAll('.prev').forEach(btn => btn.addEventListener('click', ()=>showStep(currentStep-1)));
</script>

</body>
</html>
