<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quick Estimate | Plumbing Gurus</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  body { font-family: Arial, sans-serif; }
  .form-section { max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ccc; background: #f9f9f9; }
  label { display:block; margin-top: 10px; }
  select, input, textarea, button { width: 100%; padding: 8px; margin-top:5px; }
  #estimateResult { margin-top: 20px; padding: 10px; border: 1px solid #999; background: #e6f7ff; }
</style>
</head>
<body>

<header>
  <img src="images/logo.png" alt="Plumbing Gurus Logo" class="logo">
  <h1>Quick Plumbing Estimate</h1>
  <nav>
    <a href="index.html"><i class="fa fa-home"></i> Home</a>
    <a href="services.html"><i class="fa fa-wrench"></i> Services</a>
    <a href="education.html"><i class="fa fa-book"></i> Education</a>
    <a href="estimate.html"><i class="fa fa-calculator"></i> Get Estimate</a>
    <a href="contact.html"><i class="fa fa-envelope"></i> Contact</a>
  </nav>
</header>

<section class="form-section">
  <form id="quickEstimateForm">
    <label>Name:</label>
    <input type="text" id="name" required>

    <label>Email:</label>
    <input type="email" id="email" required>

    <label>Phone:</label>
    <input type="text" id="phone" required>

    <label>Property Type:</label>
    <select id="property">
      <option value="House">House</option>
      <option value="Apartment">Apartment</option>
      <option value="Commercial">Commercial</option>
    </select>

    <label>Service Type:</label>
    <select id="service">
      <option value="Repair">Repair</option>
      <option value="Replacement">Replacement</option>
      <option value="Renovation">Renovation</option>
      <option value="New Build">New Build</option>
    </select>

    <label>Problem / Fixture:</label>
    <select id="problem">
      <option value="Clogged Drain">Clogged Drain</option>
      <option value="Leaky Faucet">Leaky Faucet</option>
      <option value="Toilet Repair">Toilet Repair</option>
      <option value="Garbage Disposal">Garbage Disposal</option>
      <option value="Water Heater Diagnostics">Water Heater Diagnostics</option>
    </select>

    <label>Additional Info (floor, accessibility, etc.):</label>
    <textarea id="details"></textarea>

    <button type="submit">Get Preliminary Estimate</button>
  </form>

  <div id="estimateResult"></div>
</section>

<script>
document.getElementById('quickEstimateForm').addEventListener('submit', function(e){
  e.preventDefault();

  // Collect user data
  const userData = {
    name: document.getElementById('name').value,
    email: document.getElementById('email').value,
    phone: document.getElementById('phone').value,
    property: document.getElementById('property').value,
    service: document.getElementById('service').value,
    problem: document.getElementById('problem').value,
    details: document.getElementById('details').value
  };

  // Estimate logic
  let estimate = "";
  if(userData.service === "Repair"){
    estimate = "$50 - $250";
  } else if(userData.service === "Replacement"){
    estimate = "$150 - $400";
  } else if(userData.service === "Renovation"){
    estimate = "$300 - $1,000+";
  } else if(userData.service === "New Build"){
    estimate = "$500 - $3,000+";
  }

  // Display estimate
  document.getElementById('estimateResult').innerHTML = `
    <h3>Preliminary Estimate: ${estimate}</h3>
    <p>Note: This is a preliminary estimate. Final pricing will depend on inspection and licensed plumber evaluation.</p>
  `;

  // Send data to your email via FormSubmit
  fetch("https://formsubmit.co/YOUR_EMAIL@gmail.com", {
    method: "POST",
    headers: { 'Content-Type':'application/json' },
    body: JSON.stringify(userData)
  }).then(() => console.log("Client info sent!"))
    .catch(err => console.error("Error sending client info:", err));
});
</script>

<footer>
<p>Â© 2025 Plumbing Gurus. Dispatch & referral services only.</p>
<p>
<a href="terms.html" style="color:white; text-decoration:underline;">Terms & Conditions</a> | 
<a href="privacy.html" style="color:white; text-decoration:underline;">Privacy Policy</a>
</p>
</footer>

</body>
</html>
