<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Delivery Booking | Plumbing Gurus – San Antonio</title>

<meta name="description" content="Book professional delivery in San Antonio with instant estimates and transparent pricing.">

<meta name="theme-color" content="#0d4b73">

<link rel="icon" href="images/file_00000000dc5c71fda7bf16dec7db34b7.png">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>

/* ROOT */

:root{
  --blue:#0d4b73;
  --blue2:#1D6FA3;
  --orange:#ff8a00;
  --dark:#050b14;
}

body{
  margin:0;
  font-family:'Inter',sans-serif;
  background:#050b14;
  color:#fff;
}

/* HEADER */

header{
  position:fixed;
  top:0;
  width:100%;
  padding:18px 40px;
  background:rgba(5,11,20,.9);
  backdrop-filter:blur(14px);
  display:flex;
  justify-content:space-between;
  align-items:center;
  z-index:999;
}

.logo{height:55px;}

nav a{
  margin:0 16px;
  color:#fff;
  text-decoration:none;
  opacity:.85;
}

nav a:hover{opacity:1;}

.book-btn{
  background:linear-gradient(90deg,#ff8a00,#ffb347);
  color:#000;
  padding:10px 22px;
  border-radius:30px;
  text-decoration:none;
  font-weight:700;
}

/* MAIN */

.section{
  max-width:950px;
  margin:140px auto;
  padding:0 25px;
}

h1{
  text-align:center;
  font-size:44px;
}

.sub{
  text-align:center;
  opacity:.9;
  margin-bottom:40px;
}

/* FORM */

.form-box{
  background:rgba(255,255,255,.05);
  border-radius:25px;
  padding:35px;
  border:1px solid rgba(255,255,255,.15);
}

input, select{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  border-radius:10px;
  border:none;
  font-size:15px;
}

label{
  font-size:14px;
  opacity:.9;
}

.checks label{
  display:block;
  margin-bottom:10px;
}

button{
  width:100%;
  padding:15px;
  background:linear-gradient(90deg,#ff8a00,#ffb347);
  border:none;
  border-radius:40px;
  font-weight:700;
  cursor:pointer;
}

.result{
  margin-top:25px;
  padding:20px;
  background:rgba(0,0,0,.4);
  border-radius:15px;
  display:none;
}

.result span{
  color:#ffb347;
  font-weight:700;
}

/* AUTOCOMPLETE */

.autobox{
  position:relative;
}

.suggestions{
  position:absolute;
  background:#111;
  width:100%;
  border-radius:10px;
  z-index:99;
  max-height:180px;
  overflow-y:auto;
  display:none;
}

.suggestions div{
  padding:10px;
  cursor:pointer;
  border-bottom:1px solid #222;
}

.suggestions div:hover{
  background:#222;
}

/* NOTICE */

.notice{
  background:rgba(255,138,0,.1);
  border:1px solid rgba(255,138,0,.4);
  padding:15px;
  border-radius:12px;
  margin-bottom:25px;
  font-size:14px;
}

/* FOOTER */

footer{
  background:#02060c;
  padding:40px;
  text-align:center;
  color:#aaa;
  margin-top:80px;
}

@media(max-width:700px){
  h1{font-size:32px;}
}

</style>
</head>

<body>

<header>

<img src="images/file_00000000dc5c71fda7bf16dec7db34b7.png" class="logo">

<nav>
<a href="index.html">Home</a>
<a href="services.html">Services</a>
<a href="delivery.html">Delivery</a>
<a href="compliance.html">Compliance</a>
</nav>

<a href="booking.html" class="book-btn">Book Now</a>

</header>

<section class="section">

<h1>Delivery Booking</h1>

<p class="sub">Instant estimate with transparent pricing.</p>

<div class="form-box">

<!-- NOTICE -->

<div class="notice">
We do not transport loads requiring DOT permits, forklifts, cranes, or oversized vehicles. Heavy or fragile items may incur additional fees. See full terms on our Compliance page.
</div>

<form id="deliveryForm"
action="https://formsubmit.co/pipeleaders@gmail.com"
method="POST">

<input type="hidden" name="_captcha" value="false">

<input type="hidden" name="distance">
<input type="hidden" name="estimate">

<!-- PICKUP -->

<label>Pickup Address</label>

<div class="autobox">
<input type="text" id="pickup" name="pickup" autocomplete="off" required>
<div class="suggestions" id="pickSug"></div>
</div>

<!-- DROPOFF -->

<label>Drop-Off Address</label>

<div class="autobox">
<input type="text" id="dropoff" name="dropoff" autocomplete="off" required>
<div class="suggestions" id="dropSug"></div>
</div>

<label>Pickup Time</label>
<input type="time" id="time" required>

<label>Load Size</label>
<select id="size" name="size">
<option value="small">Small (Boxes)</option>
<option value="medium">Medium (Furniture)</option>
<option value="large">Large (Appliances)</option>
</select>

<div class="checks">

<label>
<input type="checkbox" id="sameday">
 Same-Day Service (+$25)
</label>

<label>
<input type="checkbox" id="heavy">
 Heavy Item 100+ lbs (+$35)
</label>

<label>
<input type="checkbox" id="fragile">
 Fragile / Glass (+$25)
</label>

</div>

<!-- TERMS -->

<label style="margin-top:15px;display:block;">
<input type="checkbox" name="terms_accept" required>
 I have read and accept the <a href="compliance.html#delivery-terms" target="_blank" style="color:#ffb347;">Delivery Terms & Liability Policy</a>.
</label>

<button type="button" onclick="calculate()">Calculate Estimate</button>

<div class="result" id="resultBox"></div>

<button type="submit" id="submitBtn" style="display:none;">
Confirm & Book Delivery
</button>

</form>

</div>

</section>

<footer>

<p>© 2026 Plumbing Gurus LLC</p>

<p>
<a href="index.html">Home</a> |
<a href="services.html">Services</a> |
<a href="delivery.html">Delivery</a> |
<a href="compliance.html">Compliance</a>
</p>

</footer>

<script>

/* PRICING */

const BASE = 45;
const PER_MILE = 2.75;
const HANDLING = 15;
const RUSH = 20;
const SAMEDAY = 25;
const HEAVY = 35;
const FRAGILE = 25;

const SIZE = {
  small:0,
  medium:25,
  large:50
};

/* AUTOCOMPLETE */

async function suggest(val, box){

  if(val.length < 3){
    box.style.display="none";
    return;
  }

  const url =
    `https://nominatim.openstreetmap.org/search?format=json&limit=5&q=${encodeURIComponent(val)}`;

  const res = await fetch(url);
  const data = await res.json();

  box.innerHTML="";
  box.style.display="block";

  data.forEach(item=>{

    const d = document.createElement("div");
    d.textContent = item.display_name;

    d.onclick = ()=>{
      box.previousElementSibling.value = item.display_name;
      box.style.display="none";
    };

    box.appendChild(d);
  });
}

pickup.oninput = ()=> suggest(pickup.value, pickSug);
dropoff.oninput = ()=> suggest(dropoff.value, dropSug);

/* GEO */

async function geo(addr){

  const url =
    `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(addr)}`;

  const res = await fetch(url);
  const data = await res.json();

  return data[0];
}

/* DISTANCE */

function miles(a,b,c,d){

  const R = 3958.8;

  const dLat = (c-a)*Math.PI/180;
  const dLon = (d-b)*Math.PI/180;

  const x =
    Math.sin(dLat/2)**2 +
    Math.cos(a*Math.PI/180)*
    Math.cos(c*Math.PI/180)*
    Math.sin(dLon/2)**2;

  return R*2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));
}

/* CALCULATE */

async function calculate(){

  if(!pickup.value || !dropoff.value || !time.value){
    alert("Please complete all required fields.");
    return;
  }

  const pg = await geo(pickup.value);
  const dg = await geo(dropoff.value);

  if(!pg || !dg){
    alert("Address not found.");
    return;
  }

  const dist = miles(
    pg.lat,pg.lon,
    dg.lat,dg.lon
  );

  let total =
    BASE +
    (dist * PER_MILE) +
    HANDLING +
    SIZE[size.value];

  const hour = parseInt(time.value.split(':')[0]);

  if((hour>=7 && hour<=9) || (hour>=16 && hour<=19)){
    total += RUSH;
  }

  if(sameday.checked) total += SAMEDAY;
  if(heavy.checked) total += HEAVY;
  if(fragile.checked) total += FRAGILE;

  total = total.toFixed(2);

  document.querySelector('[name=distance]').value =
    dist.toFixed(2)+" miles";

  document.querySelector('[name=estimate]').value =
    "$"+total;

  resultBox.style.display="block";

  resultBox.innerHTML = `
    Distance: <span>${dist.toFixed(2)} mi</span><br>
    Estimated Total: <span>$${total}</span>
  `;

  submitBtn.style.display="block";
}

</script>

</body>
</html>
